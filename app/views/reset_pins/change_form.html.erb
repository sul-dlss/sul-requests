<h1 class="fw-semibold mt-5"><%= t('sessions.university_id.user') %></h1>
<h2><%= t('change_pin.title') %></h2>
<%= form_tag change_pin_path, method: :post, class: 'mb-5 col col-md-6 col-lg-4' do %>
  <%= hidden_field_tag :token, params[:token] %>
  <%= hidden_field_tag :referrer, params[:referrer] %>
  <div>
    Your new PIN must:
    <ul>
      <li>be 6-25 characters long</li>
      <li>use a combination of letters and numbers</li>
      <li>include no special characters or spaces</li>
    </ul>
  </div>
  <div class="form-group">
    <%= label_tag :pin, 'New PIN', class: 'form-label required-label' %>
    <div class="input-group" data-controller="password-visibility">
      <%= password_field_tag :pin, nil, class: 'form-control', 'aria-describedby':
      'pin-help', autofocus: true, autocomplete: 'off', data: {
      'password-visibility-target': 'input' }, pattern: '[a-zA-Z0-9]{6,25}' %>
      <div class="input-group-append">
        <button
          class="btn btn-link"
          aria-label="Show PIN"
          data-password-visibility-target="show"
          data-action="password-visibility#showPassword:prevent"
          hidden
        >
          <i class="bi bi-eye-fill"></i>
        </button>
        <button
          class="btn btn-link"
          aria-label="Hide PIN"
          data-password-visibility-target="hide"
          data-action="password-visibility#hidePassword:prevent"
          hidden
        >
          <i class="bi bi-eye-slash-fill"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="mt-3 d-flex gap-2 justify-content-end">
    <%= link_to 'Cancel', params['referrer'], class: 'btn btn-outline-primary text-decoration-none' %>
    <%= submit_tag 'Change PIN', class: 'btn btn-primary' %>
  </div>
<% end %>
